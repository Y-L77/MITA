<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MITA â€” Question Selector</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">
  <style>
    :root { --accent:#ffd54f; --muted:#b9c0d0; --ink:#ffffff; }
    html,body{
      margin:0; padding:0; background:#121212; color:var(--ink);
      font-family:system-ui,-apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
    }
    a{ color:var(--ink); text-decoration:none }
    .nav{ position:fixed; top:10px; left:10px; display:flex; gap:8px; z-index:99 }
    .nav a{ background:#111; border:1px solid rgba(255,255,255,.08); padding:8px 10px; border-radius:8px }
    .nav a:hover{ background:#191919 }
    .wrap{ min-height:100vh; display:grid; place-items:center; padding:24px }
    .card{
      width:clamp(320px,96vw,1020px); background:#181818; border:1px solid rgba(255,255,255,.06);
      border-radius:14px; padding:18px; box-shadow:0 20px 64px rgba(0,0,0,.55)
    }
    .title{ display:flex; justify-content:space-between; align-items:center }
    .title h1{
      margin:0; font-size:1.2rem; background:linear-gradient(90deg,#fff,#ffd54f);
      -webkit-background-clip:text; background-clip:text; color:transparent
    }
    .muted{ color:var(--muted) }
    .layout{ display:grid; grid-template-columns:1.15fr .85fr; gap:16px; margin-top:12px }
    @media (max-width:980px){ .layout{ grid-template-columns:1fr } }
    .panel{ background:#101010; border:1px solid rgba(255,255,255,.06); border-radius:10px; padding:12px }
    .row{ display:grid; gap:10px }
    .label{ font-weight:700; letter-spacing:.2px }
    .label.vibrant{ background:linear-gradient(90deg,#ffd54f,#8ec5ff); -webkit-background-clip:text; background-clip:text; color:transparent }
    .chips{ display:flex; flex-wrap:wrap; gap:10px }
    .chip{
      border:1px solid rgba(255,255,255,.16); background:linear-gradient(180deg,#161616,#0d0d0d);
      border-radius:999px; padding:7px 12px; font-size:.93rem; cursor:pointer; color:#e9efff;
      box-shadow:inset 0 0 0 0 rgba(255,213,79,.25); transition:box-shadow .2s, border-color .2s
    }
    .chip:hover{ border-color:rgba(255,255,255,.28) }
    .chip.active{ border-color:rgba(255,213,79,.75); box-shadow:inset 0 0 0 2px rgba(255,213,79,.35); color:#fff }
    .control{ display:flex; gap:10px; align-items:center; flex-wrap:wrap }
    .control input[type=number]{
      width:120px; background:#0f0f0f; border:1px solid rgba(255,255,255,.16);
      border-radius:8px; color:#fff; padding:8px 10px
    }
    .btn{
      background:linear-gradient(180deg,#232323,#161616); border:1px solid rgba(255,255,255,.18);
      color:#fff; border-radius:10px; padding:9px 13px; cursor:pointer; font-weight:700
    }
    .btn.accent{ border-color:rgba(255,213,79,.7) }
    .btn:disabled{ opacity:.5; cursor:not-allowed }
    .window{ min-height:140px; display:grid; place-items:center; background:#0f0f0f; border:1px dashed rgba(255,255,255,.18); border-radius:10px; padding:12px }
    .ka{ font-size:1.05rem; text-align:center }
    .meta{ display:flex; justify-content:space-between; align-items:center; margin-top:8px }
    .pill{ display:inline-block; padding:4px 8px; border-radius:999px; border:1px solid rgba(255,255,255,.12); background:#0f0f0f }
    .mini{ margin-top:10px; background:#0f0f0f; border:1px dashed rgba(255,255,255,.18); border-radius:10px; padding:10px }
    .mini h3{ margin:0 0 6px 0; font-size:.95rem; color:#fff }
    .mini sub{ color:var(--muted) }
  </style>
</head>
<body>
  <div class="nav">
    <a href="index.html">âŸµ Home</a>
    <a href="stats.html">ðŸ“Š Stats</a>
  </div>

  <div class="wrap">
    <div class="card">
      <div class="title">
        <h1>ðŸŽ° Single-Player Question Selector</h1>
        <div class="muted" id="pool-info">Eligible: 0</div>
      </div>

      <div class="layout">
        <!-- LEFT: filters -->
        <div class="panel">
          <div class="row">
            <div>
              <div class="label vibrant" style="margin-bottom:6px">Categories</div>
              <div id="cat-list" class="chips"></div>
              <div class="muted" style="margin-top:6px">Click multiple chips to stack filters.</div>
            </div>

            <div class="control">
              <div class="label vibrant">ELO range</div>
              <input id="elo-min" type="number" placeholder="min" step="50" style="max-width:120px">
              <span class="muted">to</span>
              <input id="elo-max" type="number" placeholder="max" step="50" style="max-width:120px">
              <button id="save-elo" class="btn accent">Save</button>
              <span id="eligible-count">Eligible: 0</span>
            </div>

            <div class="control">
              <button id="spin-btn" class="btn accent">Randomize</button>
              <button id="start-btn" class="btn" disabled>Start Solving</button>
            </div>
          </div>
        </div>

        <!-- RIGHT: preview + per-question web chart -->
        <div class="panel">
          <div class="window" id="preview">
            <div class="ka muted">No question selected yet.</div>
          </div>

          <div class="meta">
            <div>Selected: <span id="current-id" class="pill">â€”</span></div>
            <div>ELO: <span id="current-elo" class="pill">â€”</span></div>
          </div>

          <div class="mini">
            <h3>Question Difficulty Web (1â€“5)</h3>
            <sub>Mechanics â€¢ Geometry â€¢ Number Theory â€¢ Problem Solving â€¢ Time Pressure</sub>
            <svg id="mini-radar" width="360" height="260" style="margin-top:6px;max-width:100%;height:auto"></svg>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
  <script src="selector.js"></script>
</body>
</html>
